SELECT * FROM forum WHERE nid = 0 AND shadow = 0;
SELECT n.nid, n.title, u.uid, u.name, n.created, MAX(c.timestamp) AS sort FROM node n, forum f LEFT JOIN comments c ON c.nid = n.nid LEFT JOIN users u ON n.uid = u.uid WHERE n.type = 'forum' AND n.nid = f.nid AND f.shadow = 0 AND n.status = 1 GROUP BY n.nid ORDER BY sort DESC ; -- LIMIT 5;
SELECT v.nid, v.title, v.uid, v.name FROM ourView v LEFT JOIN forum f ON v.nid = f.nid WHERE v.type = 'forum' ORDER BY v.nid DESC ; -- LIMIT 5;
SELECT n.nid, title, body, n.created, MAX(c.timestamp) AS date_sort, COUNT(c.nid) AS num_comments FROM node n, term_node t, forum f LEFT JOIN comments c ON c.nid = n.nid WHERE n.nid = t.nid AND n.nid = f.nid AND t.tid = 0 AND f.shadow = 0 AND n.status = 1 GROUP BY n.nid; -- ORDER BY $user->sortby;
SELECT COUNT(cid) AS cnt FROM comments WHERE nid = 0 AND status = 0;
SELECT timestamp FROM comments WHERE nid = 0 AND status = 0 ORDER BY timestamp DESC ; -- LIMIT 1;
SELECT c.timestamp, u.name, u.uid FROM comments c LEFT JOIN users u ON c.uid = u.uid WHERE c.nid = 0 AND c.status = 0 ORDER BY c.timestamp DESC ; -- LIMIT 1;
SELECT COUNT(n.nid) AS cnt FROM node n, term_node r, forum f WHERE r.tid = 0 AND n.nid = r.nid AND n.nid = f.nid AND n.status = 1 AND n.type = 'forum' AND f.shadow = 0;
SELECT COUNT(*) AS cnt FROM comments c, term_node r, node n WHERE r.tid = 0 AND n.nid = r.nid AND n.nid = c.nid AND n.status = 1 AND c.status = 0 AND n.type = 'forum';
SELECT tid, count(*) AS c FROM history h, term_node r, node n, forum f WHERE f.nid = r.nid AND r.nid = h.nid AND n.nid = h.nid AND f.shadow = 0 AND n.type = 'forum' AND n.status = 1 AND h.uid = 0 GROUP BY tid;
SELECT n.nid, n.created AS timestamp, u.name AS name, u.uid AS uid FROM node n, term_node r LEFT JOIN users u ON n.uid = u.uid WHERE r.tid = 0 AND n.nid = r.nid AND n.type = 'forum' AND n.status = 1 ORDER BY timestamp DESC ; -- LIMIT 1;
SELECT n.nid, c.timestamp, u.name AS name, u.uid AS uid FROM term_node r, node n LEFT JOIN comments c ON n.nid = c.nid LEFT JOIN users u ON c.uid = u.uid WHERE r.tid = 0 AND n.nid = r.nid AND n.type = 'forum' AND n.status = 1 AND c.status = 0 ORDER BY c.timestamp DESC ; -- LIMIT 1;
SELECT n.nid, title, users.name AS name, users.uid AS uid, n.created AS timestamp, n.created, MAX(c.timestamp) AS date_sort, COUNT(c.nid) AS num_comments, icon, n.comment AS comment_mode, shadow FROM node n, term_node r LEFT JOIN users ON n.uid = users.uid LEFT JOIN comments c ON c.nid = n.nid LEFT JOIN forum f ON n.nid = f.nid WHERE n.nid = r.nid AND r.tid = 0 AND n.status = 1 AND n.type = 'forum' GROUP BY n.nid ; -- ORDER BY $sql_sortby;
SELECT COUNT(c.nid) FROM node n LEFT JOIN comments c ON n.nid = c.nid WHERE n.nid = 0 AND n.status = 1 AND c.status = 0 AND timestamp > '$history' GROUP BY n.nid;
SELECT r.nid FROM node n, history h, term_node r WHERE n.type = 'forum' AND n.status = 1 AND h.nid = n.nid AND r.nid = h.nid AND r.tid = 0 AND h.uid = 0   ;
-- SELECT r.nid AS c FROM node n LEFT JOIN term_node r ON r.nid = n.nid WHERE n.type = 'forum' AND n.status = 1 AND r.tid = 0 AND NOT (r.nid IN (".implode(",", $read).")) ORDER BY created ; -- LIMIT 1;
SELECT nid, timestamp FROM history WHERE uid = 0;
