SELECT * FROM forum WHERE nid = 0;
SELECT n.nid, n.title, n.created, MAX(c.timestamp) AS sort FROM node n LEFT JOIN comments c ON n.nid = c.nid WHERE n.type = 'forum' AND n.status = 1 GROUP BY n.nid, n.title, n.created ORDER BY sort DESC;
SELECT nid, title FROM node WHERE type = 'forum' ORDER BY nid DESC;
SELECT n.nid, n.title, n.created, MAX(c.timestamp) AS date_sort, COUNT(c.nid) AS num_comments FROM node n INNER JOIN forum f ON n.nid = f.nid INNER JOIN comments c ON n.nid = c.nid WHERE n.nid = f.nid AND f.tid = 0 AND n.status = 1 GROUP BY n.nid, n.title, n.created; -- ORDER BY $user->orderby;
SELECT COUNT(cid) AS cnt FROM comments WHERE nid = 0 AND status = 0;
SELECT timestamp FROM comments WHERE nid = 0 AND status = 0 ORDER BY timestamp DESC;
SELECT c.timestamp, u.name, u.uid FROM comments c INNER JOIN users u ON c.uid = u.uid WHERE c.nid = 0 AND c.status = 0 ORDER BY c.timestamp DESC;
SELECT COUNT(n.nid) AS cnt FROM node n INNER JOIN forum f ON n.nid = f.nid WHERE f.tid = 0 AND n.nid = f.nid AND n.status = 1 AND n.type = 'forum';
SELECT COUNT(*) AS cnt FROM comments c INNER JOIN node n ON n.nid = c.nid INNER JOIN forum f ON n.nid = f.nid WHERE f.tid = 0 AND n.nid = f.nid AND n.nid = c.nid AND n.status = 1 AND c.status = 0 AND n.type = 'forum';
SELECT tid, count(*) AS c FROM history h INNER JOIN node n ON n.nid = h.nid INNER JOIN forum f ON n.nid = f.nid WHERE f.nid = n.nid AND n.nid = h.nid AND n.type = 'forum' AND n.status = 1 AND h.uid = 0 GROUP BY tid;
SELECT ov.nid, ov.created AS timestamp, ov.name AS name, ov.uid AS uid FROM forum f INNER JOIN ourView ov ON ov.nid = f.nid WHERE f.tid = 0 AND ov.nid = f.nid AND ov.type = 'forum' AND ov.status = 1 ORDER BY timestamp DESC;
SELECT ov.nid, c.timestamp, ov.name AS name, ov.uid AS uid FROM forum f INNER JOIN ourView ov ON ov.nid = f.nid INNER JOIN comments c ON ov.nid = c.nid WHERE f.tid = 0 AND ov.nid = f.nid AND ov.type = 'forum' AND ov.status = 1 AND c.status = 0 ORDER BY c.timestamp DESC;
SELECT n.nid, n.title, u.name AS name, u.uid AS uid, n.created AS timestamp, n.created, MAX(c.timestamp) AS date_sort, COUNT(c.nid) AS num_comments, n.comment AS comment_mode, f.tid FROM node n INNER JOIN term_node r ON n.nid = r.nid INNER JOIN users u ON n.uid = u.uid LEFT JOIN comments c ON n.nid = c.nid INNER JOIN forum f ON n.nid = f.nid WHERE n.nid = r.nid AND ((r.tid = 0 AND f.shadow = 1) OR f.tid = 0) AND n.status = 1 AND n.type = 'forum' GROUP BY n.nid, n.title, u.name, u.uid, n.created, n.comment, f.tid;
SELECT COUNT(n.nid) FROM node n INNER JOIN forum f ON n.nid = f.nid INNER JOIN term_node r ON n.nid = r.nid WHERE n.nid = r.nid AND ( (r.tid = 0 AND f.shadow = 1) OR f.tid = 0) AND n.status = 1 AND n.type = 'forum';
SELECT COUNT(c.nid) FROM node n INNER JOIN comments c ON n.nid = c.nid WHERE n.nid = 0 GROUP BY n.nid;
SELECT n.nid FROM node n, history h, forum f WHERE n.type = 'forum' AND n.status = 1 AND h.nid = n.nid AND f.nid = h.nid AND f.tid = 0 AND h.uid = 0;
SELECT n.nid FROM node n INNER JOIN forum f ON n.nid = f.nid WHERE n.type = 'forum' AND f.nid = n.nid AND n.status = 1 AND f.tid = 0 AND n.nid IN (0,1) ;
SELECT nid, timestamp FROM history WHERE uid = 0;
