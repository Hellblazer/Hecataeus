

-- Create table
--source tables
create table SPR_GEO1
(
  GAME       VARCHAR(8) ,
  NOMOS      VARCHAR(2),
  GAMNE      VARCHAR(8),
  FLAGUP     NUMERIC(4),
  UNAME      VARCHAR(4),
  GGCODE     VARCHAR(8),
  GSTRCODE   VARCHAR(4),
  GEROCODE   VARCHAR(3),
  GTYPECODE  VARCHAR(2),
  GTAXICODE  VARCHAR(2),
  GAAEROT    VARCHAR(3),
  G1EPON     VARCHAR(30),
  G1ONOM     VARCHAR(30),
  G1PATRON   VARCHAR(20),
  G1ETOS     NUMERIC(4),
  G1POLICE   VARCHAR(7),
  G1COMPANY  VARCHAR(120),
  G1AFM      VARCHAR(9),
  G1ODOS     VARCHAR(50),
  G1ARITH    VARCHAR(4),
  G1TCODE    VARCHAR(5),
  G1TEL      VARCHAR(10),
  G21        VARCHAR(2),
  G22EPON    VARCHAR(30),
  G22ONOM    VARCHAR(20),
  G22PATRON  VARCHAR(20),
  G22ETOS    NUMERIC(4),
  G22POLICE  VARCHAR(7),
  G22GCODE   VARCHAR(8),
  G22COMPANY VARCHAR(120),
  G22ODOS    VARCHAR(50),
  G22ARITH   VARCHAR(4),
  G22TCODE   VARCHAR(5),
  G22TEL     VARCHAR(10),
  G31        VARCHAR(1),
  G32        VARCHAR(1),
  G32A       VARCHAR(1),
  G32B       VARCHAR(1),
  G41        VARCHAR(1),
  G501       NUMERIC(9,2),
  G502       NUMERIC(9,2),
  G503       NUMERIC(9,2),
  G504       NUMERIC(9,2),
  G505       NUMERIC(9,2),
  G506       NUMERIC(9,2),
  G507       NUMERIC(9,2),
  G508       NUMERIC(9,2),
  G509       NUMERIC(9,2),
  G510       NUMERIC(9,2),
  G611       NUMERIC(9,2),
  G612       NUMERIC(9,2),
  G613       NUMERIC(9,2),
  G614       NUMERIC(9,2),
  G615       NUMERIC(9,2),
  G71GCODE   VARCHAR(6),
  G72        NUMERIC(9,2),
  G72S       NUMERIC(1),
  G73        NUMERIC(1),
  GAMEUSER   VARCHAR(12),
  constraint SPR_GEO1_PK primary key (GAME)
);



-- Create table
create table SPR_GEO4
(
  GAME      VARCHAR(8),
  G1201     NUMERIC(1),
  G1202     NUMERIC(9,2),
  G1203     NUMERIC(9,2),
  G1204     NUMERIC(9,2),
  G1205     NUMERIC(9,2),
  G1306     NUMERIC(9,2),
  G1407     NUMERIC(9,2),
  G1408     NUMERIC(9,2),
  G1409     NUMERIC(9,2),
  G1410     NUMERIC(9,2),
  G1411     NUMERIC(9,2),
  G1412     NUMERIC(1),
  G1413     NUMERIC(9,2),
  G1414     NUMERIC(9,2),
  G1415     NUMERIC(1),
  G1416     NUMERIC(9,2),
  G1417     NUMERIC(9,2),
  G1418     NUMERIC(9,2),
  G1419     NUMERIC(9,2),
  G1420     NUMERIC(9,2),
  G1521     NUMERIC(1),
  G1522     NUMERIC(9,2),
  G1523     NUMERIC(9,2),
  G1524     NUMERIC(1),
  G1525     NUMERIC(1),
  G1626     NUMERIC(1),
  G1627     NUMERIC(9,2),
  G1628     NUMERIC(9,2),
  G1629     NUMERIC(9,2),
  G1630     NUMERIC(9,2),
  G1631     NUMERIC(9,2),
  G1632     NUMERIC(9,2),
  G1733     NUMERIC(1),
  G1734     NUMERIC(9,2),
  G1735     NUMERIC(1),
  G1736     NUMERIC(1),
  G1737     NUMERIC(9,2),
  G1801     NUMERIC(9,2),
  G1902     NUMERIC(9,2),
  G2003     NUMERIC(9,2),
  G2004     NUMERIC(9,2),
  G2005     NUMERIC(9,2),
  G2006     NUMERIC(9,2),
  G2007     NUMERIC(9,2),
  G2008     NUMERIC(9,2),
  G2009     NUMERIC(9,2),
  G2010     NUMERIC(9,2),
  G2011     NUMERIC(9,2),
  G2012     NUMERIC(9,2),
  G2013     NUMERIC(9,2),
  G2014     NUMERIC(9,2),
  G2115     NUMERIC(9,2),
  G2116     NUMERIC(9,2),
  G2117     NUMERIC(9,2),
  G2118     NUMERIC(9,2),
  G2219     NUMERIC(9,2),
  G2220     NUMERIC(9,2),
  G2221     NUMERIC(9,2),
  G2322     NUMERIC(9,2),
  G2323     NUMERIC(9,2),
  G2324     NUMERIC(9,2),
  G2425     NUMERIC(9,2),
  G2426     NUMERIC(9,2),
  G2427     NUMERIC(9,2),
  G2428     NUMERIC(9,2),
  G2429     NUMERIC(9,2),
  G2430     NUMERIC(9,2),
  G2431     NUMERIC(9,2),
  G2432     NUMERIC(9,2),
  G2433     NUMERIC(9,2),
  G2534     NUMERIC(9,2),
  G2535     NUMERIC(9,2),
  G2536     NUMERIC(9,2),
  G2637     NUMERIC(9,2),
  G27CODE   NUMERIC(2),
  G27PER    VARCHAR(20),
  G27OTHER  NUMERIC(9,2),
  G2842     NUMERIC(1),
  G2843     NUMERIC(9,2),
  G2844     NUMERIC(9,2),
  G2845     NUMERIC(9,2),
  G312M     NUMERIC(4),
  G312F     NUMERIC(4),
  G312T     NUMERIC(4),
  G313M     NUMERIC(5),
  G313F     NUMERIC(5),
  G313T     NUMERIC(5),
  G322M     NUMERIC(4),
  G322F     NUMERIC(4),
  G322T     NUMERIC(4),
  G323M     NUMERIC(5),
  G323F     NUMERIC(5),
  G323T     NUMERIC(5),
  G33       NUMERIC(1),
  G331      NUMERIC(4),
  G332      NUMERIC(5),
  G333      NUMERIC(9,2),
  G340      NUMERIC(1),
  G341      NUMERIC(1),
  G342      NUMERIC(1),
  G343      NUMERIC(1),
  G344      NUMERIC(1),
  G345      NUMERIC(1),
  G346      NUMERIC(1),
  G347      NUMERIC(1),
  G348      NUMERIC(1),
  GFACE     NUMERIC(1),
  GDURATION NUMERIC(2),
  GCOOP     NUMERIC(1),
  GAMEUSER  VARCHAR(12),
  constraint SPR_GEO4_PK primary key (GAME)
);


--temp tables
-- Create table
create table TMP_SAMPLES
(
  SAM_RES_YEAR      NUMERIC(4) not null,
  SAM_RSC_CODE      VARCHAR(4) not null,
  SAM_CODE          VARCHAR(8) not null,
  SAM_AA_QUE        NUMERIC(7),
  SAM_LAST_NAME     VARCHAR(50),
  SAM_FIRST_NAME    VARCHAR(30),
  SAM_FATHERNAME    VARCHAR(25),
  SAM_MOTHERNAME    VARCHAR(25),
  SAM_BIRTH_YR      NUMERIC(4),
  SAM_IDCARD        VARCHAR(8),
  SAM_AFM           VARCHAR(10),
  SAM_ADDRESS       VARCHAR(50),
  SAM_ZIPCODE       VARCHAR(5),
  SAM_TEL           VARCHAR(15),
  SAM_FAX           VARCHAR(15),
  SAM_LEGALPERS     VARCHAR(80),
  SAM_NMAX          NUMERIC(7),
  SAM_NMIN          NUMERIC(7),
  SAM_LAND          NUMERIC(9,1),
  SAM_UTILLAND      NUMERIC(9,1),
  SAM_SM_CODE       VARCHAR(10),
  SAM_LEV           VARCHAR(2),
  SAM_CLA_CODE      VARCHAR(2),
  SAM_CREATED_BY    VARCHAR(30),
  SAM_CHANGED_BY    VARCHAR(30),
  SAM_DATE_CREATED  DATE,
  SAM_DATE_CHANGED  DATE,
  SAM_GEOCODE       VARCHAR(8) not null,
  SAM_LAY_CODE      VARCHAR(4),
  SM_CHA_CODE       VARCHAR(4),
  SAM_TOTSUM        NUMERIC(10,2),
  SAM_OTHNAME       VARCHAR(80),
  SAM_MEMBER        NUMERIC(1),
  SAM_PRACTICE      NUMERIC(1),
  SAM_REMARKS       VARCHAR(80),
  SAM_QUED          NUMERIC(7),
  SAM_AA_QUED       NUMERIC(7),
  SAM_BASTRAINAGR   NUMERIC(1),
  SAM_TRAINAGR      NUMERIC(1),
  SAM_OPERATION     VARCHAR(2),
  SAM_SECTION       VARCHAR(5),
  SAM_FINTYPE       NUMERIC(6),
  SAM_PROPERTY      VARCHAR(2),
  SAM_LEGAL         VARCHAR(2),
  SAM_COMMERCIAL    NUMERIC(1),
  SAM_ACCBOOK       NUMERIC(1),
  SAM_PERSONAL      NUMERIC(1),
  SAM_RELATION      VARCHAR(2),
  SAM_SALE          NUMERIC(1),
  SAM_ASSOCIATION   NUMERIC(1),
  SAM_OGA           NUMERIC(1),
  SAM_DEPT          VARCHAR(4),
  SAM_FLG           VARCHAR(1),
  SAM_PERC2         NUMERIC(4,1),
  SAM_PERC3         NUMERIC(4,1),
  SAM_YPA           VARCHAR(4),
  SAM_YPACODE       VARCHAR(10),
  SAM_AA_TMPQUE     NUMERIC(4),
  SAM_BLOCK         NUMERIC(5),
  SAM_NOMOS         VARCHAR(4),
  SAM_DIMOS         VARCHAR(8),
  SAM_TSGM          NUMERIC(10,2),
  SAM_FEME          NUMERIC(3),
  SAM_SURFCODE      NUMERIC(9),
  SAM_LAND_OTH      NUMERIC(9,1),
  SAM_UTILLAND_OTH  NUMERIC(9,1),
  SAM_TOTAL         NUMERIC(9,2),
  SAM_LAYEURO_CODE  VARCHAR(4),
  SAM_GEO_THESH     VARCHAR(8),
  SAM_MET           VARCHAR(1),
  SAM_GEO_MET       VARCHAR(8),
  SAM_THESH_ADRESS  VARCHAR(40),
  SAM_SYDEL         NUMERIC(10,5),
  SAM_STREET_NUMBER VARCHAR(6),
  constraint TMP_SAMPLES_PK primary key (SAM_RES_YEAR, SAM_RSC_CODE, SAM_CODE)
  );
 
  
-- Create table
create table TMP_DIAR_SAMPLES
(
  SAM_RES_YEAR          NUMERIC(4) not null,
  SAM_RSC_CODE          VARCHAR(4) not null,
  SAM_CODE              VARCHAR(8) not null,
  SAM_CREATED_BY        VARCHAR(30),
  SAM_CHANGED_BY        VARCHAR(30),
  SAM_DATE_CREATED      DATE,
  SAM_DATE_CHANGED      DATE,
  SAM_NUMBER_NEW        NUMERIC(2),
  SAM_CURRENT_STATE     VARCHAR(1),
  SAM_AGR_OCCUPATION    VARCHAR(1),
  SAM_NEW_GEOCODE       VARCHAR(8),
  SAM_TRAINING          VARCHAR(1),
  SAM_TRAINING_LEVEL    VARCHAR(1),
  SAM_CONSUMPTION       VARCHAR(1),
  SAM_SALE              VARCHAR(1),
  SAM_OTHER_POSITION    VARCHAR(1),
  SAM_OTHER_GEOCODE     VARCHAR(8),
  SAM_OTHER_AREA        NUMERIC(9,2),
  SAM_OTHER_STAVLOI     NUMERIC(9,2),
  SAM_CURRENT_AREA      NUMERIC(9,2),
  SAM_CURRENT_STAVLOI   NUMERIC(9,2),
  SAM_FACE              VARCHAR(1),
  SAM_DURATION          VARCHAR(2),
  SAM_DATE              DATE,
  SAM_COOPERATION       VARCHAR(1),
  SAM_NOTES             VARCHAR(4000),
  SAM_GEOCODE           VARCHAR(8),
  SAM_NEW_LAST_NAME     VARCHAR(50),
  SAM_NEW_FIRST_NAME    VARCHAR(30),
  SAM_NEW_FATHERNAME    VARCHAR(25),
  SAM_NEW_BIRTH_YR      NUMERIC(4),
  SAM_NEW_IDCARD        VARCHAR(8),
  SAM_NEW_LEGALPERS     VARCHAR(80),
  SAM_NEW_AFM           VARCHAR(10),
  SAM_NEW_STREET        VARCHAR(50),
  SAM_NEW_STREET_NUMBER VARCHAR(4),
  SAM_NEW_ZIPCODE       VARCHAR(5),
  SAM_NEW_TEL           VARCHAR(15),
  constraint TMP_DIAR_SAMPLES_PK primary key (SAM_RES_YEAR, SAM_RSC_CODE, SAM_CODE),
  constraint TMP_DIAR_SAMPLES_FK foreign key (SAM_RES_YEAR, SAM_RSC_CODE, SAM_CODE)
  references TMP_SAMPLES (SAM_RES_YEAR, SAM_RSC_CODE, SAM_CODE)
);
  
 
 -- Create table  
create table TMP_DIAR_QUESTDETS
(
  QUD_RSC_CODE  VARCHAR(4) not null,
  QUD_RES_YEAR  NUMERIC(4) not null,
  QUD_SAM_CODE  VARCHAR(8) not null,
  QUD_CAT_ID    NUMERIC(7) not null,
  QUD_NUM       NUMERIC(9,2),
  QUD_PRODNUM   NUMERIC(9,2),
  QUD_WATERED   NUMERIC(9,2),
  QUD_SECONDARY NUMERIC(9,2),
  QUD_GEOCODE   VARCHAR(10),
  QUD_SURFACE   NUMERIC(4),
  QUD_MONTHS    NUMERIC(4),
  CREATED_BY    VARCHAR(30),
  CHANGED_BY    VARCHAR(30),
  DATE_CREATED  DATE,
  DATE_CHANGED  DATE,
  QUD_FLAG      NUMERIC(2),
  constraint TMP_DIAR_QUESTDETS_PK primary key (QUD_RSC_CODE, QUD_RES_YEAR, QUD_SAM_CODE, QUD_CAT_ID),
  constraint QUD_DIAR_SAMP_FK foreign key (QUD_RES_YEAR, QUD_RSC_CODE, QUD_SAM_CODE)
  references TMP_SAMPLES (SAM_RES_YEAR, SAM_RSC_CODE, SAM_CODE)
);  

-- Create table
--lookup
create table SPR_MHT_DIARDECLN
(
  DEN_RES_YEAR     NUMERIC(4) not null,
  DEN_RSC_CODE     VARCHAR(4) not null,
  DEN_GED_CODE     VARCHAR(2) not null,
  DEN_PRZ_CODE     VARCHAR(4) not null,
  DEN_PRB_CODE     VARCHAR(30) not null,
  DEN_CLA_CODE     VARCHAR(2) not null,
  DEN_LAY_CODE     VARCHAR(4) not null,
  DEN_SIZE         NUMERIC(11,2),
  DEN_TOTNUM       NUMERIC(9),
  DEN_SAMPLNUM     NUMERIC(6),
  DEN_SYDEL     	 NUMERIC(6),
  DEN_YH           NUMERIC,
  DEN_SE_YH        NUMERIC,
  DEN_CREATED_BY   VARCHAR(30),
  DEN_CHANGED_BY   VARCHAR(30),
  DEN_DATE_CREATED DATE,
  DEN_DATE_CHANGED DATE,
  DEN_CELL_ID      NUMERIC,
  DEN_TYPE_CODE    VARCHAR(2),
  constraint SPR_MHT_DIARDECLN_PK primary key (DEN_RES_YEAR, DEN_RSC_CODE, DEN_GED_CODE, DEN_PRZ_CODE, DEN_PRB_CODE, DEN_CLA_CODE, DEN_LAY_CODE)
);

-- Create table lookup
create table SPR_VIOKAL_ANAG
(
  STRNOMOS VARCHAR(3),
  TYPOS    VARCHAR(3),
  NOMOS    VARCHAR(2),
  LAY_CODE NUMERIC(1),
  SYDEL    NUMERIC,
  NMIN     NUMERIC,
  NMAX     NUMERIC
); 
--lookup table 
create table DIAR_CATEGORIES
(
  CAT_ID     NUMERIC(7),
  CAT_FIELD  VARCHAR(4),
  PED1       VARCHAR(10),
  PED2       VARCHAR(10),
  PED3       VARCHAR(10),
  TABLE_NAME VARCHAR(10),
  PED4       VARCHAR(10)
);